{% extends "user/base.html" %}
{% load static %}

{% block title %}PetPal ‚Äì Next-Gen Pet Care{% endblock %}

{% block extra_css %}
<style>
/* ================= BACKGROUND BLOBS ================= */
.circle{
  position:absolute;
  border-radius:50%;
  filter:blur(110px);
  opacity:.55;
  z-index:-1;
  transition:background .4s, opacity .4s;
}
.circle1{width:340px;height:340px;background:#7b8cff;top:-100px;left:-100px}
.circle2{width:420px;height:420px;background:#ff7ac5;bottom:-150px;right:-80px}

/* Dark mode blobs */
.dark .circle1{
  background:#3b4eff;
  opacity:.45;
}
.dark .circle2{
  background:#ec4899;
  opacity:.45;
}

/* ================= HERO ================= */
.hero{
  display:grid;
  grid-template-columns:1.1fr 1fr;
  gap:70px;
  padding:120px 70px;
  align-items:center;
}

.hero-text h1{
  font-size:68px;
  font-weight:800;
  line-height:1.05;
  background:linear-gradient(45deg,#2636a5,#ff5898);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.hero-text p{
  font-size:19px;
  margin:25px 0 40px;
  color:#555;
}
.dark .hero-text p{
  color:#cbd5e1;
}

.cta-btn{
  padding:18px 36px;
  border-radius:14px;
  background:linear-gradient(135deg,#4a5fc1,#ff7ac5);
  color:#fff;
  font-weight:600;
  display:inline-block;
  transition:.3s;
}
.cta-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 40px rgba(255,122,197,.45);
}

.hero-image img{
  width:100%;
  max-width:480px;
  border-radius:28px;
  box-shadow:0 30px 60px rgba(0,0,0,.18);
}

/* ================= SERVICES ================= */
.services{
  padding:100px 70px;
  text-align:center;
}

.services-grid{
  display:flex;
  gap:40px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:60px;
}

.service-card{
  width:300px;
  padding:40px 30px;
  border-radius:22px;
  background:#fff;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  transition:.3s;
}
.service-card:hover{
  transform:translateY(-10px);
  box-shadow:0 25px 60px rgba(0,0,0,.15);
}
.service-card h3{
  font-size:20px;
  font-weight:700;
  margin-bottom:12px;
}
.service-card p{
  color:#555;
  font-size:15px;
}

/* Dark mode cards */
.dark .service-card{
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.15);
  box-shadow:
    0 10px 30px rgba(0,0,0,0.6),
    inset 0 1px 0 rgba(255,255,255,0.08);
}
.dark .service-card p{ color:#cbd5e1; }
.dark .service-card h3{ color:#f1f5f9; }

/* ================= WHY US ================= */
.why-us{
  padding:100px 70px;
  background:linear-gradient(135deg,#eef1ff,#ffe6f5);
  text-align:center;
}
.dark .why-us{
  background:linear-gradient(135deg,#0f172a,#020617);
}

.why-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:40px;
  margin-top:60px;
}

.why-box{
  padding:30px;
  border-radius:20px;
  background:#fff;
  box-shadow:0 12px 30px rgba(0,0,0,.08);
}
.why-box h4{
  font-weight:700;
  margin-bottom:10px;
}

/* Dark mode boxes */
.dark .why-box{
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.15);
  box-shadow:
    0 12px 30px rgba(0,0,0,0.6),
    inset 0 1px 0 rgba(255,255,255,0.08);
}
.dark .why-box p{ color:#cbd5e1; }
.dark .why-box h4{ color:#f1f5f9; }

/* ================= STATS ================= */
.stats{
  padding:90px 70px;
  display:flex;
  justify-content:center;
  gap:80px;
  flex-wrap:wrap;
  text-align:center;
}

.stat h2{
  font-size:42px;
  font-weight:800;
  color:#4a5fc1;
}
.stat p{ color:#555; }

.dark .stat h2{ color:#a5b4fc; }
.dark .stat p{ color:#cbd5e1; }

/* ================= CTA ================= */
.final-cta{
  padding:110px 70px;
  text-align:center;
  background:linear-gradient(135deg,#4a5fc1,#ff7ac5);
  color:#fff;
}
.final-cta h2{
  font-size:42px;
  font-weight:800;
  margin-bottom:20px;
}
.final-cta p{
  font-size:18px;
  margin-bottom:35px;
}
.final-cta a{
  background:#fff;
  color:#4a5fc1;
  padding:16px 34px;
  border-radius:14px;
  font-weight:700;
  transition:.3s;
}
.final-cta a:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 40px rgba(0,0,0,.25);
}
.dark .final-cta{
  background:linear-gradient(135deg,#1e293b,#312e81);
}
.dark .final-cta a{
  background:#0f172a;
  color:#a5b4fc;
}
</style>
{% endblock %}

{% block content %}

<!-- BLOBS -->
<div class="circle circle1"></div>
<div class="circle circle2"></div>

<!-- HERO -->
<section class="hero">
  <div class="hero-text">

    {% if username %}
      <p class="text-lg font-semibold mb-3 text-indigo-600 dark:text-indigo-400">
        üëã Welcome, {{ username }}
      </p>
    {% endif %}

    <h1>Next-Gen<br>Pet Care</h1>

    <p>
      Adoption, grooming, daycare, consultation and volunteer support ‚Äî
      everything your pet needs, in one trusted platform.
    </p>

    {% if username %}
      <a class="cta-btn" href="{% url 'petapp:grooming' %}">Explore Services</a>
    {% else %}
      <a class="cta-btn" href="{% url 'petapp:login' %}">Login to Continue</a>
    {% endif %}

  </div>

  <div class="hero-image">
    <img src="{% static 'img/Cat-hero.PNG' %}" alt="Pet care">
  </div>
</section>

<!-- SERVICES -->
<section class="services">
  <h2 class="text-4xl font-extrabold">Our Core Services</h2>

  <div class="services-grid">
    <div class="service-card">
      <h3>‚ú® Luxury Grooming</h3>
      <p>Professional grooming with premium products and expert care.</p>
    </div>

    <div class="service-card">
      <h3>üè° Pet Daycare</h3>
      <p>Safe, fun and supervised daycare for your pets while you're away.</p>
    </div>

    <div class="service-card">
      <h3>ü©∫ Online Consultation</h3>
      <p>Connect with verified veterinarians anytime, anywhere.</p>
    </div>

    <div class="service-card">
      <h3>üêæ Adoption & Volunteering</h3>
      <p>Give pets a loving home or support shelters through volunteering.</p>
    </div>
  </div>
</section>

<!-- WHY US -->
<section class="why-us">
  <h2 class="text-4xl font-extrabold">Why PetPal?</h2>

  <div class="why-grid">
    <div class="why-box">
      <h4>Trusted Professionals</h4>
      <p>Certified groomers, vets and caretakers you can rely on.</p>
    </div>

    <div class="why-box">
      <h4>Pet-First Approach</h4>
      <p>Every service is designed with your pet‚Äôs comfort in mind.</p>
    </div>

    <div class="why-box">
      <h4>All-in-One Platform</h4>
      <p>No more juggling apps ‚Äî manage everything in one place.</p>
    </div>

    <div class="why-box">
      <h4>Secure & Reliable</h4>
      <p>Safe bookings, verified users, and transparent pricing.</p>
    </div>
  </div>
</section>

<!-- STATS (ANIMATED) -->
<section class="stats" id="stats">
  <div class="stat">
    <h2 class="counter" data-target="5000">0</h2>
    <p>Happy Pets</p>
  </div>
  <div class="stat">
    <h2 class="counter" data-target="1000">0</h2>
    <p>Verified Professionals</p>
  </div>
  <div class="stat">
    <h2 class="counter" data-target="10000">0</h2>
    <p>Bookings Completed</p>
  </div>
</section>

<!-- CTA -->
<section class="final-cta">
  <h2>Give Your Pet the Care They Deserve</h2>
  <p>Join thousands of pet parents who trust PetPal every day.</p>
  <a href="{% url 'petapp:register' %}">Get Started</a>
</section>

<!-- ================= STATS COUNTER SCRIPT ================= -->
<script>
const counters = document.querySelectorAll('.counter');
let statsPlayed = false;

function runCounters(){
  if(statsPlayed) return;
  statsPlayed = true;

  counters.forEach(counter=>{
    const target = +counter.getAttribute('data-target');
    let count = 0;
    const increment = target / 120;

    const update = () => {
      count += increment;
      if(count < target){
        counter.innerText = Math.ceil(count) + "+";
        requestAnimationFrame(update);
      }else{
        counter.innerText = target.toLocaleString() + "+";
      }
    };
    update();
  });
}

/* Trigger when stats enter viewport */
window.addEventListener('scroll', () => {
  const section = document.getElementById('stats');
  const pos = section.getBoundingClientRect().top;
  const screenPos = window.innerHeight / 1.3;
  if(pos < screenPos){
    runCounters();
  }
});
</script>

{% endblock %}
