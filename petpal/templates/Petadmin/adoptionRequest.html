{% extends "petadmin/baseAdmin.html" %}
{% block content %}

<h1 class="text-3xl font-bold mb-6">Adoption Requests</h1>

<form method="get" class="flex gap-4 mb-6">
    <select name="user">
        <option value="">All Users</option>
        {% for u in users %}
            <option value="{{u.id}}" {% if selected_user == u.id|stringformat:"s" %}selected{% endif %}>
                {{u.name}}
            </option>
        {% endfor %}
    </select>

    <select name="status">
        <option value="">All Status</option>
        <option value="Pending">Pending</option>
        <option value="Approved">Approved</option>
        <option value="Rejected">Rejected</option>
    </select>

    <button type="submit">Filter</button>
</form>

<table class="w-full">
    <tr>
        <th>User</th>
        <th>Pet</th>
        <th>Status</th>
        <th>Action</th>
    </tr>

    {% for a in adoptions %}
    <tr>
        <td>{{ a.user.name }}</td>
        <td>{{ a.pet.name }}</td>
        <td>
            <span class="
                {% if a.status == 'Approved' %}text-green-600
                {% elif a.status == 'Rejected' %}text-red-600
                {% else %}text-yellow-600{% endif %}
            ">
                {{ a.status }}
            </span>
        </td>
        <td>
            <a href="{% url 'petadmin:adminAdoptionView' a.id %}">View</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
