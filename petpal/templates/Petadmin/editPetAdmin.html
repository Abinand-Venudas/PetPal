{% extends "petadmin/baseAdmin.html" %}
{% load static %}

{% block title %}Edit Pet{% endblock %}

{% block content %}

<div class="mb-10">
  <h1 class="text-4xl font-extrabold">Edit Pet</h1>
  <p class="text-gray-500 mt-2">
    Update adoption pet details
  </p>
</div>

<div class="max-w-5xl">
<form method="post" enctype="multipart/form-data"
      class="glass rounded-3xl p-10 shadow-lg">

{% csrf_token %}

<div class="grid md:grid-cols-2 gap-10">

  <!-- LEFT : FORM -->
  <div class="space-y-6">

    <!-- Pet Name -->
    <div>
      <label class="block text-sm font-semibold mb-2">Pet Name</label>
      <input
        type="text"
        name="name"
        value="{{ pet.name }}"
        class="w-full px-5 py-4 rounded-xl border focus:ring-2 focus:ring-indigo-400 outline-none"
        required
      >
    </div>

    <!-- Pet Type -->
    <div>
      <label class="block text-sm font-semibold mb-2">Pet Type</label>
      <input
        type="text"
        name="pet_type"
        value="{{ pet.pet_type }}"
        class="w-full px-5 py-4 rounded-xl border focus:ring-2 focus:ring-indigo-400 outline-none"
        required
      >
    </div>

    <!-- Age -->
    <div>
      <label class="block text-sm font-semibold mb-2">Age (years)</label>
      <input
        type="number"
        name="age"
        value="{{ pet.age }}"
        class="w-full px-5 py-4 rounded-xl border focus:ring-2 focus:ring-indigo-400 outline-none"
        required
      >
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-semibold mb-2">Description</label>
      <textarea
        name="description"
        rows="4"
        class="w-full px-5 py-4 rounded-xl border focus:ring-2 focus:ring-indigo-400 outline-none resize-none"
      >{{ pet.description }}</textarea>
    </div>

    <!-- Vaccinated -->
    <div class="flex items-center gap-3">
      <input
        type="checkbox"
        name="vaccinated"
        id="vaccinated"
        class="w-5 h-5 accent-indigo-600"
        {% if pet.vaccinated %}checked{% endif %}
      >
      <label for="vaccinated" class="font-medium">
        Vaccinated
      </label>
    </div>

  </div>

  <!-- RIGHT : IMAGE -->
  <div class="space-y-6">

    <div>
      <label class="block text-sm font-semibold mb-2">Current Image</label>

      <div class="rounded-2xl overflow-hidden border bg-white">
        {% if pet.image %}
          <img src="{{ pet.image.url }}"
               class="w-full h-64 object-cover">
        {% else %}
          <img src="{% static 'img/default-pet.png' %}"
               class="w-full h-64 object-cover">
        {% endif %}
      </div>
    </div>

    <!-- Upload New -->
    <div>
      <label class="block text-sm font-semibold mb-2">Change Image</label>
      <input
        type="file"
        name="image"
        class="w-full px-4 py-3 rounded-xl border bg-white"
      >
      <p class="text-xs text-gray-500 mt-2">
        Leave empty to keep existing image
      </p>
    </div>

  </div>

</div>

<!-- ACTIONS -->
<div class="flex gap-4 mt-10">

  <button
    type="submit"
    class="px-8 py-4 rounded-xl text-white font-semibold
           bg-gradient-to-r from-indigo-600 to-pink-500
           hover:opacity-90 transition">
    Save Changes
  </button>

  <a href="{% url 'petadmin:adoptionPetsAdmin' %}"
     class="px-8 py-4 rounded-xl font-semibold
            bg-gray-100 hover:bg-gray-200 transition">
    Cancel
  </a>

</div>

</form>
</div>

{% endblock %}
