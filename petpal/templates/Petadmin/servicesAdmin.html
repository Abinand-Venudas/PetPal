{% extends "Petadmin/baseAdmin.html" %}

{% block title %}Grooming Services{% endblock %}

{% block content %}

<!-- PAGE HEADER -->
<div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-10 gap-6">
  <div>
    <h1 class="text-3xl font-bold text-gray-900">Services</h1>
    <p class="text-gray-500 mt-1">Manage grooming & care services</p>
  </div>

  <a href="{% url 'petadmin:addGroomingServiceAdmin' %}"
     class="inline-flex items-center gap-2 px-6 py-3 rounded-xl
            text-white font-semibold
            bg-gradient-to-r from-indigo-500 to-purple-500
            hover:scale-[1.02] transition shadow-lg">
    + Add Grooming Service
  </a>
</div>

<!-- SERVICES GRID -->
{% if services %}
<div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8">

  {% for service in services %}
  <div class="glass rounded-2xl p-6 shadow-xl hover:shadow-2xl transition">

    <!-- HEADER -->
    <div class="flex justify-between items-start mb-4">
      <h3 class="text-lg font-semibold text-gray-900">
        {{ service.name }}
      </h3>
      <span class="text-indigo-600 font-bold">
        ₹ {{ service.price }}
      </span>
    </div>

    <!-- DESCRIPTION -->
    <p class="text-sm text-gray-600 mb-6">
      {{ service.description|default:"No description provided" }}
    </p>

    <!-- ACTIONS -->
    <div class="flex gap-4 pt-4 border-t">

      <!-- ✅ FIXED -->
      <a href="{% url 'petadmin:editGroomingServiceAdmin' service.id %}"
         class="flex-1 text-center py-2 rounded-lg
                text-indigo-600 font-medium
                bg-indigo-50 hover:bg-indigo-100 transition">
        Edit
      </a>

      <!-- ✅ FIXED -->
      <form method="post"
            action="{% url 'petadmin:deleteGroomingServiceAdmin' service.id %}"
            onsubmit="return confirm('Delete this service?');">
        {% csrf_token %}
        <button type="submit"
                class="w-full py-2 rounded-lg
                       text-red-600 font-medium
                       bg-red-50 hover:bg-red-100 transition">
          Remove
        </button>
      </form>

    </div>
  </div>
  {% endfor %}

</div>

{% else %}
<div class="glass rounded-2xl p-12 text-center">
  <p class="text-gray-500 mb-4">No services added yet.</p>
  <a href="{% url 'petadmin:addGroomingServiceAdmin' %}"
     class="px-6 py-3 rounded-xl text-white font-semibold
            bg-gradient-to-r from-indigo-500 to-purple-500">
    + Add First Service
  </a>
</div>
{% endif %}

{% endblock %}
